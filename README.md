# Шаги запуска:  
- Открыть терминал в корне проекта
- Запустить `sudo docker compose up` (Все необходимые файлы конигурации включены в репозиторий для простоты запуска,
хотя в реальном проекте надо будет создать .gitignore, чтобы исключить кофиденциальную информацию)
- Зайти на `http://localhost:9876`, чтобы посмотреть информацию о контейнерах

# Функционал
## Backend:
Backend написан с использованием библиотеки Gin и имеет 3 эндпоинта:
- GET /events - возвращает список IP адресов контейнеров с соответствующими временем пинга в мс и его датой
- POST /events - принимает список IP адресов контейнеров с соответствующими временем пинга в мс и его датой, который потом записывается в базу данных
- GET /ws - используется для создания websocket соединения между frontend и backend для обновления страницы после получения новой информации о контейнерах

## Pinger:
Pinger представляет собой сервис который каждые 5 секунд опрашивает все контейнеры запущенные в Docker и отправляет результат на Backend для сохранения данных в базу данных.
Данные о контейнерах получаются через Docker API, а для проведения пинга Pinger переключается в net netspace конкретного контейнера.
Дескриптор net namespace Pinger получает из папки /proc хост машины, для этого /proc замнотирована в /docker/proc на контейнере.

## DataBase:
В качестве базы данных используется PostgreSQL с таблицей pinger_event содержашей последние известные данные о состоянии контейнеров.
Поле IP объявленно как UNIQUE, поэтому при получении новой информации о контейнере данные о нём перезаписываются.
База данных создаётся при первом запуске контейнера.
Создание таблиц производится с помощью миграций и контроллируется Backend сервером.

## Frontend:
Frontend написан на React и TS с использованием библиотеки Antd и собран с помощью Vite.
Пользовательский интерфейс представляет собой таблицу с IP адресами контейнеров, временем и датой последнего удачного пинга.
При загрузке страница запрашивает данные у Backend и устанавливает с ним соединение через websocket, для получения уведомлений об изменениях в базе данных.
Хостинг Frontend осуществляется с помощью Nginx на порте 9876.
